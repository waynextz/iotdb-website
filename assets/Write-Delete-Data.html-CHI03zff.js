import{_ as o,c as p,d as e,e as n,a as t,w as l,b as i,r,o as d}from"./app-5Y3JZDjO.js";const u={};function c(m,s){const a=r("RouteLink");return d(),p("div",null,[s[52]||(s[52]=e("h1",{id:"write-delete-data",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#write-delete-data"},[e("span",null,"Write & Delete Data")])],-1)),s[53]||(s[53]=e("h2",{id:"cli-insert",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#cli-insert"},[e("span",null,"CLI INSERT")])],-1)),e("p",null,[s[4]||(s[4]=n("IoTDB provides users with a variety of ways to insert real-time data, such as directly inputting ")),t(a,{to:"/UserGuide/latest/SQL-Manual/SQL-Manual.html#insert-data"},{default:l(()=>s[0]||(s[0]=[n("INSERT SQL statement")])),_:1}),s[5]||(s[5]=n(" in ")),t(a,{to:"/UserGuide/latest/Tools-System/CLI.html"},{default:l(()=>s[1]||(s[1]=[n("Client/Shell tools")])),_:1}),s[6]||(s[6]=n(", or using ")),t(a,{to:"/UserGuide/latest/API/Programming-JDBC.html"},{default:l(()=>s[2]||(s[2]=[n("Java JDBC")])),_:1}),s[7]||(s[7]=n(" to perform single or batch execution of ")),t(a,{to:"/UserGuide/latest/SQL-Manual/SQL-Manual.html"},{default:l(()=>s[3]||(s[3]=[n("INSERT SQL statement")])),_:1}),s[8]||(s[8]=n("."))]),e("p",null,[s[10]||(s[10]=n("NOTE： This section mainly introduces the use of ")),t(a,{to:"/UserGuide/latest/SQL-Manual/SQL-Manual.html#insert-data"},{default:l(()=>s[9]||(s[9]=[n("INSERT SQL statement")])),_:1}),s[11]||(s[11]=n(" for real-time data import in the scenario."))]),s[54]||(s[54]=e("p",null,"Writing a repeat timestamp covers the original timestamp data, which can be regarded as updated data.",-1)),s[55]||(s[55]=e("h3",{id:"use-of-insert-statements",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#use-of-insert-statements"},[e("span",null,"Use of INSERT Statements")])],-1)),e("p",null,[s[15]||(s[15]=n("The ")),t(a,{to:"/UserGuide/latest/SQL-Manual/SQL-Manual.html#insert-data"},{default:l(()=>s[12]||(s[12]=[n("INSERT SQL statement")])),_:1}),s[16]||(s[16]=n(" statement is used to insert data into one or more specified timeseries created. For each point of data inserted, it consists of a ")),t(a,{to:"/UserGuide/latest/Basic-Concept/Data-Model-and-Terminology.html"},{default:l(()=>s[13]||(s[13]=[n("timestamp")])),_:1}),s[17]||(s[17]=n(" and a sensor acquisition value (see ")),t(a,{to:"/UserGuide/latest/Basic-Concept/Data-Type.html"},{default:l(()=>s[14]||(s[14]=[n("Data Type")])),_:1}),s[18]||(s[18]=n(")."))]),s[56]||(s[56]=i(`<p>In the scenario of this section, take two timeseries <code>root.ln.wf02.wt02.status</code> and <code>root.ln.wf02.wt02.hardware</code> as an example, and their data types are BOOLEAN and TEXT, respectively.</p><p>The sample code for single column data insertion is as follows:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">IoTDB &gt; insert into root.ln.wf02.wt02(timestamp,status) values(1,true)</span>
<span class="line">IoTDB &gt; insert into root.ln.wf02.wt02(timestamp,hardware) values(1, &#39;v1&#39;)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The above example code inserts the long integer timestamp and the value &quot;true&quot; into the timeseries <code>root.ln.wf02.wt02.status</code> and inserts the long integer timestamp and the value &quot;v1&quot; into the timeseries <code>root.ln.wf02.wt02.hardware</code>. When the execution is successful, cost time is shown to indicate that the data insertion has been completed.</p><blockquote><p>Note: In IoTDB, TEXT type data can be represented by single and double quotation marks. The insertion statement above uses double quotation marks for TEXT type data. The following example will use single quotation marks for TEXT type data.</p></blockquote><p>The INSERT statement can also support the insertion of multi-column data at the same time point. The sample code of inserting the values of the two timeseries at the same time point &#39;2&#39; is as follows:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">IoTDB <span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">(</span><span class="token keyword">timestamp</span><span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> hardware<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&#39;v2&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>In addition, The INSERT statement support insert multi-rows at once. The sample code of inserting two rows as follows:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">IoTDB <span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">(</span><span class="token keyword">timestamp</span><span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> hardware<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&#39;v3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&#39;v4&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>After inserting the data, we can simply query the inserted data using the SELECT statement:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">IoTDB <span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;</span> <span class="token number">5</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The result is shown below. The query result shows that the insertion statements of single column and multi column data are performed correctly.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">+-----------------------------+--------------------------+------------------------+</span>
<span class="line">|                         Time|root.ln.wf02.wt02.hardware|root.ln.wf02.wt02.status|</span>
<span class="line">+-----------------------------+--------------------------+------------------------+</span>
<span class="line">|1970-01-01T08:00:00.001+08:00|                        v1|                    true|</span>
<span class="line">|1970-01-01T08:00:00.002+08:00|                        v2|                   false|</span>
<span class="line">|1970-01-01T08:00:00.003+08:00|                        v3|                   false|</span>
<span class="line">|1970-01-01T08:00:00.004+08:00|                        v4|                    true|</span>
<span class="line">+-----------------------------+--------------------------+------------------------+</span>
<span class="line">Total line number = 4</span>
<span class="line">It costs 0.004s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In addition, we can omit the timestamp column, and the system will use the current system timestamp as the timestamp of the data point. The sample code is as follows:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">IoTDB <span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">(</span><span class="token keyword">status</span><span class="token punctuation">,</span> hardware<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&#39;v2&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>Note:</strong> Timestamps must be specified when inserting multiple rows of data in a SQL.</p><h3 id="insert-data-into-aligned-timeseries" tabindex="-1"><a class="header-anchor" href="#insert-data-into-aligned-timeseries"><span>Insert Data Into Aligned Timeseries</span></a></h3><p>To insert data into a group of aligned time series, we only need to add the <code>ALIGNED</code> keyword in SQL, and others are similar.</p><p>The sample code is as follows:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">IoTDB <span class="token operator">&gt;</span> <span class="token keyword">create</span> aligned timeseries root<span class="token punctuation">.</span>sg1<span class="token punctuation">.</span>d1<span class="token punctuation">(</span>s1 INT32<span class="token punctuation">,</span> s2 <span class="token keyword">DOUBLE</span><span class="token punctuation">)</span></span>
<span class="line">IoTDB <span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> root<span class="token punctuation">.</span>sg1<span class="token punctuation">.</span>d1<span class="token punctuation">(</span><span class="token keyword">time</span><span class="token punctuation">,</span> s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> aligned <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">IoTDB <span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> root<span class="token punctuation">.</span>sg1<span class="token punctuation">.</span>d1<span class="token punctuation">(</span><span class="token keyword">time</span><span class="token punctuation">,</span> s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> aligned <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></span>
<span class="line">IoTDB <span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>sg1<span class="token punctuation">.</span>d1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The result is shown below. The query result shows that the insertion statements are performed correctly.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">+-----------------------------+--------------+--------------+</span>
<span class="line">|                         Time|root.sg1.d1.s1|root.sg1.d1.s2|</span>
<span class="line">+-----------------------------+--------------+--------------+</span>
<span class="line">|1970-01-01T08:00:00.001+08:00|             1|           1.0|</span>
<span class="line">|1970-01-01T08:00:00.002+08:00|             2|           2.0|</span>
<span class="line">|1970-01-01T08:00:00.003+08:00|             3|           3.0|</span>
<span class="line">+-----------------------------+--------------+--------------+</span>
<span class="line">Total line number = 3</span>
<span class="line">It costs 0.004s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="native-api-write" tabindex="-1"><a class="header-anchor" href="#native-api-write"><span>NATIVE API WRITE</span></a></h2><p>The Native API ( Session ) is the most widely used series of APIs of IoTDB, including multiple APIs, adapted to different data collection scenarios, with high performance and multi-language support.</p><h3 id="multi-language-api-write" tabindex="-1"><a class="header-anchor" href="#multi-language-api-write"><span>Multi-language API write</span></a></h3><h4 id="java" tabindex="-1"><a class="header-anchor" href="#java"><span>Java</span></a></h4>`,26)),e("p",null,[s[21]||(s[21]=n("Before writing via the Java API, you need to establish a connection, refer to ")),t(a,{to:"/UserGuide/latest/API/Programming-Java-Native-API.html"},{default:l(()=>s[19]||(s[19]=[n("Java Native API")])),_:1}),s[22]||(s[22]=n(".")),s[23]||(s[23]=e("br",null,null,-1)),s[24]||(s[24]=n(" then refer to ")),t(a,{to:"/UserGuide/latest/API/Programming-Java-Native-API.html#insert"},{default:l(()=>s[20]||(s[20]=[n(" JAVA Data Manipulation Interface (DML) ")])),_:1})]),s[57]||(s[57]=e("h4",{id:"python",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#python"},[e("span",null,"Python")])],-1)),e("p",null,[s[26]||(s[26]=n("Refer to ")),t(a,{to:"/UserGuide/latest/API/Programming-Python-Native-API.html#insert"},{default:l(()=>s[25]||(s[25]=[n(" Python Data Manipulation Interface (DML) ")])),_:1})]),s[58]||(s[58]=e("h4",{id:"c",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#c"},[e("span",null,"C++")])],-1)),e("p",null,[s[28]||(s[28]=n("Refer to ")),t(a,{to:"/UserGuide/latest/API/Programming-Cpp-Native-API.html#insert"},{default:l(()=>s[27]||(s[27]=[n(" C++ Data Manipulation Interface (DML) ")])),_:1})]),s[59]||(s[59]=e("h4",{id:"go",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#go"},[e("span",null,"Go")])],-1)),e("p",null,[s[30]||(s[30]=n("Refer to ")),t(a,{to:"/UserGuide/latest/API/Programming-Go-Native-API.html"},{default:l(()=>s[29]||(s[29]=[n("Go Native API")])),_:1})]),s[60]||(s[60]=e("h2",{id:"rest-api-write",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#rest-api-write"},[e("span",null,"REST API WRITE")])],-1)),e("p",null,[s[33]||(s[33]=n("Refer to ")),t(a,{to:"/UserGuide/latest/API/RestServiceV1.html#inserttablet"},{default:l(()=>s[31]||(s[31]=[n("insertTablet (v1)")])),_:1}),s[34]||(s[34]=n(" or ")),t(a,{to:"/UserGuide/latest/API/RestServiceV2.html#inserttablet"},{default:l(()=>s[32]||(s[32]=[n("insertTablet (v2)")])),_:1})]),s[61]||(s[61]=i(`<p>Example：</p><div class="language-JSON line-numbers-mode" data-highlighter="prismjs" data-ext="JSON" data-title="JSON"><pre><code><span class="line">{</span>
<span class="line">      &quot;timestamps&quot;: [</span>
<span class="line">            1,</span>
<span class="line">            2,</span>
<span class="line">            3</span>
<span class="line">      ],</span>
<span class="line">      &quot;measurements&quot;: [</span>
<span class="line">            &quot;temperature&quot;,</span>
<span class="line">            &quot;status&quot;</span>
<span class="line">      ],</span>
<span class="line">      &quot;data_types&quot;: [</span>
<span class="line">            &quot;FLOAT&quot;,</span>
<span class="line">            &quot;BOOLEAN&quot;</span>
<span class="line">      ],</span>
<span class="line">      &quot;values&quot;: [</span>
<span class="line">            [</span>
<span class="line">                  1.1,</span>
<span class="line">                  2.2,</span>
<span class="line">                  3.3</span>
<span class="line">            ],</span>
<span class="line">            [</span>
<span class="line">                  false,</span>
<span class="line">                  true,</span>
<span class="line">                  true</span>
<span class="line">            ]</span>
<span class="line">      ],</span>
<span class="line">      &quot;is_aligned&quot;: false,</span>
<span class="line">      &quot;device&quot;: &quot;root.ln.wf01.wt01&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mqtt-write" tabindex="-1"><a class="header-anchor" href="#mqtt-write"><span>MQTT WRITE</span></a></h2>`,3)),e("p",null,[s[36]||(s[36]=n("Refer to ")),t(a,{to:"/UserGuide/latest/API/Programming-MQTT.html#built-in-mqtt-service"},{default:l(()=>s[35]||(s[35]=[n("Built-in MQTT Service")])),_:1})]),s[62]||(s[62]=e("h2",{id:"batch-data-load",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#batch-data-load"},[e("span",null,"BATCH DATA LOAD")])],-1)),s[63]||(s[63]=e("p",null,"In different scenarios, the IoTDB provides a variety of methods for importing data in batches. This section describes the two most common methods for importing data in CSV format and TsFile format.",-1)),s[64]||(s[64]=e("h3",{id:"tsfile-batch-load",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#tsfile-batch-load"},[e("span",null,"TsFile Batch Load")])],-1)),e("p",null,[s[38]||(s[38]=n("TsFile is the file format of time series used in IoTDB. You can directly import one or more TsFile files with time series into another running IoTDB instance through tools such as CLI. For details, see ")),t(a,{to:"/UserGuide/latest/Tools-System/Data-Import-Tool.html"},{default:l(()=>s[37]||(s[37]=[n("Data Import")])),_:1}),s[39]||(s[39]=n("."))]),s[65]||(s[65]=e("h3",{id:"csv-batch-load",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#csv-batch-load"},[e("span",null,"CSV Batch Load")])],-1)),e("p",null,[s[41]||(s[41]=n("CSV stores table data in plain text. You can write multiple formatted data into a CSV file and import the data into the IoTDB in batches. Before importing data, you are advised to create the corresponding metadata in the IoTDB. Don't worry if you forget to create one, the IoTDB can automatically infer the data in the CSV to its corresponding data type, as long as you have a unique data type for each column. In addition to a single file, the tool supports importing multiple CSV files as folders and setting optimization parameters such as time precision. For details, see ")),t(a,{to:"/UserGuide/latest/Tools-System/Data-Import-Tool.html"},{default:l(()=>s[40]||(s[40]=[n("Data Import")])),_:1}),s[42]||(s[42]=n("."))]),s[66]||(s[66]=e("h2",{id:"delete",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#delete"},[e("span",null,"DELETE")])],-1)),e("p",null,[s[44]||(s[44]=n("Users can delete data that meet the deletion condition in the specified timeseries by using the ")),t(a,{to:"/UserGuide/latest/SQL-Manual/SQL-Manual.html#delete-data"},{default:l(()=>s[43]||(s[43]=[n("DELETE statement")])),_:1}),s[45]||(s[45]=n(". When deleting data, users can select one or more timeseries paths, prefix paths, or paths with star to delete data within a certain time interval."))]),e("p",null,[s[47]||(s[47]=n("In a JAVA programming environment, you can use the ")),t(a,{to:"/UserGuide/latest/API/Programming-JDBC.html"},{default:l(()=>s[46]||(s[46]=[n("Java JDBC")])),_:1}),s[48]||(s[48]=n(" to execute single or batch UPDATE statements."))]),s[67]||(s[67]=i(`<h3 id="delete-single-timeseries" tabindex="-1"><a class="header-anchor" href="#delete-single-timeseries"><span>Delete Single Timeseries</span></a></h3><p>Taking ln Group as an example, there exists such a usage scenario:</p><p>The wf02 plant&#39;s wt02 device has many segments of errors in its power supply status before 2017-11-01 16:26:00, and the data cannot be analyzed correctly. The erroneous data affected the correlation analysis with other devices. At this point, the data before this time point needs to be deleted. The SQL statement for this operation is</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">where</span> <span class="token keyword">time</span><span class="token operator">&lt;=</span><span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T16:<span class="token number">26</span>:<span class="token number">00</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>In case we hope to merely delete the data before 2017-11-01 16:26:00 in the year of 2017, The SQL statement is:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">where</span> <span class="token keyword">time</span><span class="token operator">&gt;=</span><span class="token number">2017</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">and</span> <span class="token keyword">time</span><span class="token operator">&lt;=</span><span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T16:<span class="token number">26</span>:<span class="token number">00</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>IoTDB supports to delete a range of timeseries points. Users can write SQL expressions as follows to specify the delete interval:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;</span> <span class="token number">10</span></span>
<span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">10</span></span>
<span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token keyword">time</span> <span class="token operator">&gt;</span> <span class="token number">10</span></span>
<span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token keyword">time</span> <span class="token operator">&gt;=</span> <span class="token number">10</span></span>
<span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&gt;</span> <span class="token number">20</span></span>
<span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&gt;=</span> <span class="token number">20</span></span>
<span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">=</span> <span class="token number">20</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Please pay attention that multiple intervals connected by &quot;OR&quot; expression are not supported in delete statement:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">delete from root.ln.wf02.wt02.status where time &gt; 4 or time &lt; 0</span>
<span class="line">Msg: 303: Check metadata error: For delete statement, where clause can only contain atomic</span>
<span class="line">expressions like : time &gt; XXX, time &lt;= XXX, or two atomic expressions connected by &#39;AND&#39;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If no &quot;where&quot; clause specified in a delete statement, all the data in a timeseries will be deleted.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="delete-multiple-timeseries" tabindex="-1"><a class="header-anchor" href="#delete-multiple-timeseries"><span>Delete Multiple Timeseries</span></a></h3>`,13)),e("p",null,[s[50]||(s[50]=n("If both the power supply status and hardware version of the ln group wf02 plant wt02 device before 2017-11-01 16:26:00 need to be deleted, ")),t(a,{to:"/UserGuide/latest/Basic-Concept/Data-Model-and-Terminology.html"},{default:l(()=>s[49]||(s[49]=[n("the prefix path with broader meaning or the path with star")])),_:1}),s[51]||(s[51]=n(" can be used to delete the data. The SQL statement for this operation is:"))]),s[68]||(s[68]=i(`<div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02 <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T16:<span class="token number">26</span>:<span class="token number">00</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>or</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">delete</span> <span class="token keyword">from</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">where</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span>T16:<span class="token number">26</span>:<span class="token number">00</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>It should be noted that when the deleted path does not exist, IoTDB will not prompt that the path does not exist, but that the execution is successful, because SQL is a declarative programming method. Unless it is a syntax error, insufficient permissions and so on, it is not considered an error, as shown below:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">IoTDB&gt; delete from root.ln.wf03.wt02.status where time &lt; now()</span>
<span class="line">Msg: The statement is executed successfully.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="delete-time-partition-experimental" tabindex="-1"><a class="header-anchor" href="#delete-time-partition-experimental"><span>Delete Time Partition (experimental)</span></a></h3><p>You may delete all data in a time partition of a database using the following grammar:</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">DELETE</span> <span class="token keyword">PARTITION</span> root<span class="token punctuation">.</span>ln <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The <code>0,1,2</code> above is the id of the partition that is to be deleted, you can find it from the IoTDB<br> data folders or convert a timestamp manually to an id using <code>timestamp / partitionInterval </code> (flooring), and the <code>partitionInterval</code> should be in your config (if time-partitioning is<br> supported in your version).</p><p>Please notice that this function is experimental and mainly for development, please use it with care.</p>`,10))])}const v=o(u,[["render",c],["__file","Write-Delete-Data.html.vue"]]),h=JSON.parse('{"path":"/UserGuide/latest/Basic-Concept/Write-Delete-Data.html","title":"Write & Delete Data","lang":"en-US","frontmatter":{"description":"Write & Delete Data CLI INSERT IoTDB provides users with a variety of ways to insert real-time data, such as directly inputting in , or using to perform single or batch executio...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://iotdb.apache.org/zh/UserGuide/latest/Basic-Concept/Write-Delete-Data.html"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/UserGuide/latest/Basic-Concept/Write-Delete-Data.html"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"Write & Delete Data"}],["meta",{"property":"og:description","content":"Write & Delete Data CLI INSERT IoTDB provides users with a variety of ways to insert real-time data, such as directly inputting in , or using to perform single or batch executio..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-25T01:41:49.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-25T01:41:49.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Write & Delete Data\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-25T01:41:49.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"CLI INSERT","slug":"cli-insert","link":"#cli-insert","children":[{"level":3,"title":"Use of INSERT Statements","slug":"use-of-insert-statements","link":"#use-of-insert-statements","children":[]},{"level":3,"title":"Insert Data Into Aligned Timeseries","slug":"insert-data-into-aligned-timeseries","link":"#insert-data-into-aligned-timeseries","children":[]}]},{"level":2,"title":"NATIVE API WRITE","slug":"native-api-write","link":"#native-api-write","children":[{"level":3,"title":"Multi-language API write","slug":"multi-language-api-write","link":"#multi-language-api-write","children":[]}]},{"level":2,"title":"REST API WRITE","slug":"rest-api-write","link":"#rest-api-write","children":[]},{"level":2,"title":"MQTT WRITE","slug":"mqtt-write","link":"#mqtt-write","children":[]},{"level":2,"title":"BATCH DATA LOAD","slug":"batch-data-load","link":"#batch-data-load","children":[{"level":3,"title":"TsFile Batch Load","slug":"tsfile-batch-load","link":"#tsfile-batch-load","children":[]},{"level":3,"title":"CSV Batch Load","slug":"csv-batch-load","link":"#csv-batch-load","children":[]}]},{"level":2,"title":"DELETE","slug":"delete","link":"#delete","children":[{"level":3,"title":"Delete Single Timeseries","slug":"delete-single-timeseries","link":"#delete-single-timeseries","children":[]},{"level":3,"title":"Delete Multiple Timeseries","slug":"delete-multiple-timeseries","link":"#delete-multiple-timeseries","children":[]},{"level":3,"title":"Delete Time Partition (experimental)","slug":"delete-time-partition-experimental","link":"#delete-time-partition-experimental","children":[]}]}],"git":{"createdTime":1690869728000,"updatedTime":1732498909000,"contributors":[{"name":"W1y1r","email":"150988475+W1y1r@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":5.7,"words":1710},"filePathRelative":"UserGuide/latest/Basic-Concept/Write-Delete-Data.md","localizedDate":"August 1, 2023","autoDesc":true}');export{v as comp,h as data};
