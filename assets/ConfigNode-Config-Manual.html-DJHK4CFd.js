import{_ as e,c as l,b as n,o as d}from"./app-BwoQc-FN.js";const i={};function r(a,t){return d(),l("div",null,t[0]||(t[0]=[n('<h1 id="confignode-配置参数" tabindex="-1"><a class="header-anchor" href="#confignode-配置参数"><span>ConfigNode 配置参数</span></a></h1><p>IoTDB ConfigNode 配置文件均位于 IoTDB 安装目录：<code>conf</code>文件夹下。</p><ul><li><p><code>confignode-env.sh/bat</code>：环境配置项的配置文件，可以配置 ConfigNode 的内存大小。</p></li><li><p><code>iotdb-system.properties</code>：IoTDB 的配置文件。</p></li></ul><h2 id="环境配置项-confignode-env-sh-bat" tabindex="-1"><a class="header-anchor" href="#环境配置项-confignode-env-sh-bat"><span>环境配置项（<a href="http://confignode-env.sh/bat%EF%BC%89" target="_blank" rel="noopener noreferrer">confignode-env.sh/bat）</a></span></a></h2><p>环境配置项主要用于对 ConfigNode 运行的 Java 环境相关参数进行配置，如 JVM 相关配置。ConfigNode 启动时，此部分配置会被传给 JVM，详细配置项说明如下：</p><ul><li>MEMORY_SIZE</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">MEMORY_SIZE</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">IoTDB ConfigNode 启动时分配的内存大小</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">String</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">取决于操作系统和机器配置。默认为机器内存的十分之三，最多会被设置为 16G。</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>ON_HEAP_MEMORY</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">ON_HEAP_MEMORY</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">IoTDB ConfigNode 能使用的堆内内存大小, 曾用名: MAX_HEAP_SIZE</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">String</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">取决于MEMORY_SIZE的配置。</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>OFF_HEAP_MEMORY</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">OFF_HEAP_MEMORY</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">IoTDB ConfigNode 能使用的堆外内存大小, 曾用名: MAX_DIRECT_MEMORY_SIZE</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">String</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">取决于MEMORY_SIZE的配置。</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><h2 id="系统配置项-iotdb-system-properties" tabindex="-1"><a class="header-anchor" href="#系统配置项-iotdb-system-properties"><span>系统配置项（iotdb-system.properties）</span></a></h2><p>IoTDB 集群的全局配置通过 ConfigNode 配置。</p><h3 id="config-node-rpc-配置" tabindex="-1"><a class="header-anchor" href="#config-node-rpc-配置"><span>Config Node RPC 配置</span></a></h3><ul><li>cn_internal_address</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_internal_address</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">ConfigNode 集群内部地址</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">String</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">127.0.0.1</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">仅允许在第一次启动服务前修改</td></tr></tbody></table><ul><li>cn_internal_port</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_internal_port</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">ConfigNode 集群服务监听端口</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">Short Int : [0,65535]</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">10710</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">仅允许在第一次启动服务前修改</td></tr></tbody></table><h3 id="共识协议" tabindex="-1"><a class="header-anchor" href="#共识协议"><span>共识协议</span></a></h3><ul><li>cn_consensus_port</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_consensus_port</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">ConfigNode 的共识协议通信端口</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">Short Int : [0,65535]</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">10720</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">仅允许在第一次启动服务前修改</td></tr></tbody></table><h3 id="seedconfignode-配置" tabindex="-1"><a class="header-anchor" href="#seedconfignode-配置"><span>SeedConfigNode 配置</span></a></h3><ul><li>cn_seed_config_node</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_seed_config_node</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">目标 ConfigNode 地址，ConfigNode 通过此地址加入集群，推荐使用 SeedConfigNode。V1.2.2 及以前曾用名是 cn_target_config_node_list</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">String</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">127.0.0.1:10710</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">仅允许在第一次启动服务前修改</td></tr></tbody></table><h3 id="数据目录" tabindex="-1"><a class="header-anchor" href="#数据目录"><span>数据目录</span></a></h3><ul><li>cn_system_dir</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_system_dir</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">ConfigNode 系统数据存储路径</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">String</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">data/confignode/system（Windows：data\\configndoe\\system）</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>cn_consensus_dir</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_consensus_dir</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">ConfigNode 共识协议数据存储路径</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">String</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">data/confignode/consensus（Windows：data\\configndoe\\consensus）</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><h3 id="thrift-rpc-配置" tabindex="-1"><a class="header-anchor" href="#thrift-rpc-配置"><span>Thrift RPC 配置</span></a></h3><ul><li>cn_rpc_thrift_compression_enable</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_rpc_thrift_compression_enable</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">是否启用 thrift 的压缩机制。</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">Boolean</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>cn_rpc_advanced_compression_enable</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_rpc_advanced_compression_enable</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">是否启用 thrift 的自定制压缩机制。</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">Boolean</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>cn_rpc_max_concurrent_client_num</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_rpc_max_concurrent_client_num</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">最大连接数。</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">Short Int : [0,65535]</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">65535</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>cn_thrift_max_frame_size</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_thrift_max_frame_size</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">RPC 请求/响应的最大字节数</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">long</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">536870912 （默认值512MB，应大于等于 512 * 1024 * 1024)</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>cn_thrift_init_buffer_size</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_thrift_init_buffer_size</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">字节数</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">Long</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">1024</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>cn_connection_timeout_ms</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_connection_timeout_ms</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">节点连接超时时间</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">int</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">60000</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>cn_selector_thread_nums_of_client_manager</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_selector_thread_nums_of_client_manager</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">客户端异步线程管理的选择器线程数量</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">int</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>cn_core_client_count_for_each_node_in_client_manager</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_core_client_count_for_each_node_in_client_manager</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">单 ClientManager 中路由到每个节点的核心 Client 个数</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">int</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">200</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><ul><li>cn_max_client_count_for_each_node_in_client_manager</li></ul><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:left;">cn_max_client_count_for_each_node_in_client_manager</th></tr></thead><tbody><tr><td style="text-align:center;">描述</td><td style="text-align:left;">单 ClientManager 中路由到每个节点的最大 Client 个数</td></tr><tr><td style="text-align:center;">类型</td><td style="text-align:left;">int</td></tr><tr><td style="text-align:center;">默认值</td><td style="text-align:left;">300</td></tr><tr><td style="text-align:center;">改后生效方式</td><td style="text-align:left;">重启服务生效</td></tr></tbody></table><h3 id="metric-监控配置" tabindex="-1"><a class="header-anchor" href="#metric-监控配置"><span>Metric 监控配置</span></a></h3>',49)]))}const o=e(i,[["render",r],["__file","ConfigNode-Config-Manual.html.vue"]]),c=JSON.parse('{"path":"/zh/UserGuide/V2.0.1/Tree/Reference/ConfigNode-Config-Manual.html","title":"ConfigNode 配置参数","lang":"zh-CN","frontmatter":{"description":"ConfigNode 配置参数 IoTDB ConfigNode 配置文件均位于 IoTDB 安装目录：conf文件夹下。 confignode-env.sh/bat：环境配置项的配置文件，可以配置 ConfigNode 的内存大小。 iotdb-system.properties：IoTDB 的配置文件。 环境配置项（confignode-env.s...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://iotdb.apache.org/UserGuide/V2.0.1/Tree/Reference/ConfigNode-Config-Manual.html"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/zh/UserGuide/V2.0.1/Tree/Reference/ConfigNode-Config-Manual.html"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"ConfigNode 配置参数"}],["meta",{"property":"og:description","content":"ConfigNode 配置参数 IoTDB ConfigNode 配置文件均位于 IoTDB 安装目录：conf文件夹下。 confignode-env.sh/bat：环境配置项的配置文件，可以配置 ConfigNode 的内存大小。 iotdb-system.properties：IoTDB 的配置文件。 环境配置项（confignode-env.s..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-12-13T04:33:18.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-13T04:33:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ConfigNode 配置参数\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-12-13T04:33:18.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"环境配置项（confignode-env.sh/bat）","slug":"环境配置项-confignode-env-sh-bat","link":"#环境配置项-confignode-env-sh-bat","children":[]},{"level":2,"title":"系统配置项（iotdb-system.properties）","slug":"系统配置项-iotdb-system-properties","link":"#系统配置项-iotdb-system-properties","children":[{"level":3,"title":"Config Node RPC 配置","slug":"config-node-rpc-配置","link":"#config-node-rpc-配置","children":[]},{"level":3,"title":"共识协议","slug":"共识协议","link":"#共识协议","children":[]},{"level":3,"title":"SeedConfigNode 配置","slug":"seedconfignode-配置","link":"#seedconfignode-配置","children":[]},{"level":3,"title":"数据目录","slug":"数据目录","link":"#数据目录","children":[]},{"level":3,"title":"Thrift RPC 配置","slug":"thrift-rpc-配置","link":"#thrift-rpc-配置","children":[]},{"level":3,"title":"Metric 监控配置","slug":"metric-监控配置","link":"#metric-监控配置","children":[]}]}],"git":{"createdTime":1688958677000,"updatedTime":1734064398000,"contributors":[{"name":"majialin","username":"majialin","email":"107627937+mal117@users.noreply.github.com","commits":1,"url":"https://github.com/majialin"},{"name":"W1y1r","username":"W1y1r","email":"150988475+W1y1r@users.noreply.github.com","commits":2,"url":"https://github.com/W1y1r"},{"name":"shuwenwei","username":"shuwenwei","email":"55970239+shuwenwei@users.noreply.github.com","commits":1,"url":"https://github.com/shuwenwei"},{"name":"wanghui42","username":"wanghui42","email":"105700158+wanghui42@users.noreply.github.com","commits":3,"url":"https://github.com/wanghui42"},{"name":"CritasWang","username":"CritasWang","email":"critas@outlook.com","commits":2,"url":"https://github.com/CritasWang"},{"name":"Potato","username":"Potato","email":"tanxinyu@apache.org","commits":1,"url":"https://github.com/Potato"},{"name":"Lei","username":"Lei","email":"33376433+LeiRui@users.noreply.github.com","commits":1,"url":"https://github.com/Lei"}]},"readingTime":{"minutes":3.97,"words":1191},"filePathRelative":"zh/UserGuide/V2.0.1/Tree/Reference/ConfigNode-Config-Manual.md","localizedDate":"2023年7月10日","autoDesc":true}');export{o as comp,c as data};
