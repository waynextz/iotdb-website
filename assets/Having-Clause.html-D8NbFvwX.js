import{_ as l,c as o,b as n,d as p,e as a,a as t,f as r,r as c,o as B}from"./app-CLygX6ac.js";const i={};function y(d,s){const e=c("RouteLink");return B(),o("div",null,[s[3]||(s[3]=n('<h1 id="having-clause" tabindex="-1"><a class="header-anchor" href="#having-clause"><span>HAVING Clause</span></a></h1><h2 id="_1-syntax-overview" tabindex="-1"><a class="header-anchor" href="#_1-syntax-overview"><span>1 Syntax Overview</span></a></h2><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">HAVING</span><span style="color:#ABB2BF;"> booleanExpression</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-1-having-clause" tabindex="-1"><a class="header-anchor" href="#_1-1-having-clause"><span>1.1 HAVING Clause</span></a></h3><p>The <code>HAVING</code> clause is used to filter aggregated results after a <code>GROUP BY</code> operation has been applied.</p><h4 id="notes" tabindex="-1"><a class="header-anchor" href="#notes"><span>Notes</span></a></h4><ul><li>就语法而言，<code>HAVING</code>子句与<code>WHERE</code>子句相同，WHERE子句在分组聚合之前对数据进行过滤，HAVING子句是对分组聚合后的结果进行过滤。</li></ul><h2 id="_2-sample-data-and-usage-examples" tabindex="-1"><a class="header-anchor" href="#_2-sample-data-and-usage-examples"><span>2 Sample Data and Usage Examples</span></a></h2>',8)),p("p",null,[s[1]||(s[1]=a("The ")),t(e,{to:"/UserGuide/V2.0.1/Table/Basic-Concept/Sample-Data.html"},{default:r(()=>s[0]||(s[0]=[a("Example Data page")])),_:1}),s[2]||(s[2]=a("page provides SQL statements to construct table schemas and insert data. By downloading and executing these statements in the IoTDB CLI, you can import the data into IoTDB. This data can be used to test and run the example SQL queries included in this documentation, allowing you to reproduce the described results.corresponding results."))]),s[4]||(s[4]=n(`<h4 id="example-1-filtering-devices-with-entry-counts-below-a-certain-threshold" tabindex="-1"><a class="header-anchor" href="#example-1-filtering-devices-with-entry-counts-below-a-certain-threshold"><span>Example 1: Filtering Devices with Entry Counts Below a Certain Threshold</span></a></h4><p>This query calculates the number of entries (<code>COUNT(*)</code>) for each <code>device_id</code> in the <code>table1</code> table and filters out devices with a count less than 5.</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> device_id, </span><span style="color:#56B6C2;">COUNT</span><span style="color:#ABB2BF;">(*)</span></span>
<span class="line"><span style="color:#C678DD;">  FROM</span><span style="color:#ABB2BF;"> table1</span></span>
<span class="line"><span style="color:#C678DD;">  GROUP BY</span><span style="color:#ABB2BF;"> device_id</span></span>
<span class="line"><span style="color:#C678DD;">  HAVING</span><span style="color:#56B6C2;"> COUNT</span><span style="color:#ABB2BF;">(*) </span><span style="color:#56B6C2;">&gt;=</span><span style="color:#D19A66;"> 5</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Result:</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">+</span><span style="color:#7F848E;font-style:italic;">---------+-----+</span></span>
<span class="line"><span style="color:#ABB2BF;">|device_id|_col1|</span></span>
<span class="line"><span style="color:#ABB2BF;">+</span><span style="color:#7F848E;font-style:italic;">---------+-----+</span></span>
<span class="line"><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">101</span><span style="color:#ABB2BF;">|   </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">+</span><span style="color:#7F848E;font-style:italic;">---------+-----+</span></span>
<span class="line"><span style="color:#ABB2BF;">Total </span><span style="color:#C678DD;">line</span><span style="color:#C678DD;"> number</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 2</span></span>
<span class="line"><span style="color:#ABB2BF;">It costs </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">.063s</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="example-2-calculating-hourly-average-temperatures-and-filtering-results" tabindex="-1"><a class="header-anchor" href="#example-2-calculating-hourly-average-temperatures-and-filtering-results"><span>Example 2: Calculating Hourly Average Temperatures and Filtering Results</span></a></h3><p>This query calculates the hourly average temperature (<code>AVG(temperature)</code>) for each device in the <code>table1</code> table and filters out those with an average temperature below 85.0.</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> date_bin(1h, </span><span style="color:#C678DD;">time</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> hour_time, device_id, </span><span style="color:#56B6C2;">AVG</span><span style="color:#ABB2BF;">(temperature) </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> avg_temp</span></span>
<span class="line"><span style="color:#C678DD;">  FROM</span><span style="color:#ABB2BF;"> table1</span></span>
<span class="line"><span style="color:#C678DD;">  GROUP BY</span><span style="color:#ABB2BF;"> date_bin(1h, </span><span style="color:#C678DD;">time</span><span style="color:#ABB2BF;">), device_id</span></span>
<span class="line"><span style="color:#C678DD;">  HAVING</span><span style="color:#56B6C2;"> AVG</span><span style="color:#ABB2BF;">(temperature) </span><span style="color:#56B6C2;">&gt;=</span><span style="color:#D19A66;"> 85</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Result:</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">+</span><span style="color:#7F848E;font-style:italic;">-----------------------------+---------+--------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|                    hour_time|device_id|avg_temp|</span></span>
<span class="line"><span style="color:#ABB2BF;">+</span><span style="color:#7F848E;font-style:italic;">-----------------------------+---------+--------+</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">2024</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">11</span><span style="color:#ABB2BF;">-29T18:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">90</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">2024</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">11</span><span style="color:#ABB2BF;">-28T08:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">85</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">2024</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">11</span><span style="color:#ABB2BF;">-28T10:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">85</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">2024</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">11</span><span style="color:#ABB2BF;">-28T11:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">88</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">2024</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">11</span><span style="color:#ABB2BF;">-26T13:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">90</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">2024</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">11</span><span style="color:#ABB2BF;">-30T09:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">101</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">90</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">2024</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">11</span><span style="color:#ABB2BF;">-30T14:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">101</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">90</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">2024</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">11</span><span style="color:#ABB2BF;">-29T10:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">101</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">85</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">|</span><span style="color:#D19A66;">2024</span><span style="color:#ABB2BF;">-</span><span style="color:#D19A66;">11</span><span style="color:#ABB2BF;">-27T16:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">000</span><span style="color:#ABB2BF;">+</span><span style="color:#D19A66;">08</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">00</span><span style="color:#ABB2BF;">|      </span><span style="color:#D19A66;">101</span><span style="color:#ABB2BF;">|    </span><span style="color:#D19A66;">85</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">|</span></span>
<span class="line"><span style="color:#ABB2BF;">+</span><span style="color:#7F848E;font-style:italic;">-----------------------------+---------+--------+</span></span>
<span class="line"><span style="color:#ABB2BF;">Total </span><span style="color:#C678DD;">line</span><span style="color:#C678DD;"> number</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 9</span></span>
<span class="line"><span style="color:#ABB2BF;">It costs </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">.079s</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10))])}const u=l(i,[["render",y],["__file","Having-Clause.html.vue"]]),v=JSON.parse('{"path":"/UserGuide/V2.0.1/Table/SQL-Manual/Having-Clause.html","title":"HAVING Clause","lang":"en-US","frontmatter":{"description":"HAVING Clause 1 Syntax Overview 1.1 HAVING Clause The HAVING clause is used to filter aggregated results after a GROUP BY operation has been applied. Notes 就语法而言，HAVING子句与WHERE子...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://iotdb.apache.org/zh/UserGuide/V2.0.1/Table/SQL-Manual/Having-Clause.html"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/UserGuide/V2.0.1/Table/SQL-Manual/Having-Clause.html"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"HAVING Clause"}],["meta",{"property":"og:description","content":"HAVING Clause 1 Syntax Overview 1.1 HAVING Clause The HAVING clause is used to filter aggregated results after a GROUP BY operation has been applied. Notes 就语法而言，HAVING子句与WHERE子..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-03T10:29:25.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-03T10:29:25.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"HAVING Clause\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-03T10:29:25.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"1 Syntax Overview","slug":"_1-syntax-overview","link":"#_1-syntax-overview","children":[{"level":3,"title":"1.1 HAVING Clause","slug":"_1-1-having-clause","link":"#_1-1-having-clause","children":[]}]},{"level":2,"title":"2 Sample Data and Usage Examples","slug":"_2-sample-data-and-usage-examples","link":"#_2-sample-data-and-usage-examples","children":[{"level":3,"title":"Example 2: Calculating Hourly Average Temperatures and Filtering Results","slug":"example-2-calculating-hourly-average-temperatures-and-filtering-results","link":"#example-2-calculating-hourly-average-temperatures-and-filtering-results","children":[]}]}],"git":{"createdTime":1735900165000,"updatedTime":1735900165000,"contributors":[{"name":"W1y1r","username":"W1y1r","email":"150988475+W1y1r@users.noreply.github.com","commits":1,"url":"https://github.com/W1y1r"}]},"readingTime":{"minutes":1.57,"words":472},"filePathRelative":"UserGuide/V2.0.1/Table/SQL-Manual/Having-Clause.md","localizedDate":"January 3, 2025","autoDesc":true}');export{u as comp,v as data};
