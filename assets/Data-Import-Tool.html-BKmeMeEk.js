import{_ as s,c as t,b as a,o as n}from"./app-D0_NMnAJ.js";const l={};function o(i,e){return n(),t("div",null,e[0]||(e[0]=[a(`<h1 id="data-import" tabindex="-1"><a class="header-anchor" href="#data-import"><span>Data Import</span></a></h1><h2 id="_1-iotdb-data-import" tabindex="-1"><a class="header-anchor" href="#_1-iotdb-data-import"><span>1. IoTDB Data Import</span></a></h2><p>IoTDB currently supports importing data in CSV, SQL, and TsFile (IoTDB&#39;s underlying open-time series file format) into the database. The specific functionalities are as follows:</p><table style="text-align:left;"><tbody><tr><th>File Format</th><th>IoTDB Tool</th><th>Description</th></tr><tr><td>CSV</td><td>import-data.sh/bat</td><td>Can be used for single or batch import of CSV files into IoTDB</td></tr><tr><td>SQL</td><td>import-data.sh/bat</td><td>Can be used for single or batch import of SQL files into IoTDB</td></tr><tr><td rowspan="2">TsFile</td><td>load-tsfile.sh/bat</td><td>Can be used for single or batch import of TsFile files into IoTDB</td></tr><tr><td>TsFile Active Listening &amp; Loading Feature</td><td>According to user configuration, it listens for changes in TsFile files in the specified path and loads newly added TsFile files into IoTDB</td></tr></tbody></table><h2 id="_2-import-data-scripts" tabindex="-1"><a class="header-anchor" href="#_2-import-data-scripts"><span>2. import-data Scripts</span></a></h2><ul><li>Supported formats: CSV„ÄÅSQL</li></ul><h3 id="_2-1-command" tabindex="-1"><a class="header-anchor" href="#_2-1-command"><span>2.1 Command</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># Unix/OS X</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/import-data.sh -h &lt;ip&gt; -p &lt;port&gt; -u &lt;username&gt; -pw &lt;password&gt; -s &lt;xxx.csv/sql&gt; [-fd </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">./failedDirectory</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -aligned </span><span style="color:#56B6C2;">&lt;</span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">/</span><span style="color:#D19A66;">false</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -batch </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">int</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -tp </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">ms/ns/us</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -typeInfer </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">boolean</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">text,float</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">double...</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -lpf </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">int</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Windows</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools</span><span style="color:#56B6C2;">\\i</span><span style="color:#ABB2BF;">mport-data.bat -h &lt;ip&gt; -p &lt;port&gt; -u &lt;username&gt; -pw &lt;password&gt; -s &lt;xxx.csv/sql&gt; [-fd </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">./failedDirectory</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -aligned </span><span style="color:#56B6C2;">&lt;</span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">/</span><span style="color:#D19A66;">false</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -batch </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">int</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -tp </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">ms/ns/us</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -typeInfer </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">boolean</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">text,float</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">double...</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> -lpf </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">int</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-parameter-introduction" tabindex="-1"><a class="header-anchor" href="#_2-2-parameter-introduction"><span>2.2 Parameter Introduction</span></a></h3><table><thead><tr><th><strong>Parameter</strong></th><th><strong>Definition</strong></th><th><strong>Required</strong></th><th><strong>Default</strong></th></tr></thead><tbody><tr><td>-h</td><td>Hostname</td><td>No</td><td>127.0.0.1</td></tr><tr><td>-p</td><td>Port</td><td>No</td><td>6667</td></tr><tr><td>-u</td><td>Username</td><td>No</td><td>root</td></tr><tr><td>-pw</td><td>Password</td><td>No</td><td>root</td></tr><tr><td>-s</td><td>Specify the data to be imported, here you can specify files or folders. If a folder is specified, all files with suffixes of csv or sql in the folder will be batch imported (In V1.3.2, the parameter is <code>-f</code>)</td><td>Yes</td><td></td></tr><tr><td>-fd</td><td>Specify the directory for storing failed SQL files. If this parameter is not specified, failed files will be saved in the source data directory. Note: For unsupported SQL, illegal SQL, and failed SQL, they will be put into the failed directory under the failed file (default is the file name with <code>.failed</code> suffix)</td><td>No</td><td>The source filename with <code>.failed</code> suffix</td></tr><tr><td>-aligned</td><td>Specify whether to use the <code>aligned</code> interface, options are true or false. Note: This parameter is only effective when importing csv files.</td><td>No</td><td>false</td></tr><tr><td>-batch</td><td>Used to specify the number of data points per batch (minimum value is 1, maximum value is Integer.<em>MAX_VALUE</em>). If the program reports the error <code>org.apache.thrift.transport.TTransportException: Frame size larger than protect max size</code>, you can appropriately reduce this parameter.</td><td>No</td><td>100000</td></tr><tr><td>-tp</td><td>Specify the time precision, options include <code>ms</code> (milliseconds), <code>ns</code> (nanoseconds), <code>us</code> (microseconds)</td><td>No</td><td>ms</td></tr><tr><td>-lpf</td><td>Specify the number of data lines written per failed file (In V1.3.2, the parameter is <code>-linesPerFailedFile</code>)</td><td>No</td><td>10000</td></tr><tr><td>-typeInfer</td><td>Used to specify type inference rules, such as &lt;srcTsDataType1=dstTsDataType1,srcTsDataType2=dstTsDataType2,...&gt;. Note: Used to specify type inference rules. <code>srcTsDataType</code> includes <code>boolean</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, <code>NaN</code>. <code>dstTsDataType</code> includes <code>boolean</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, <code>text</code>. When <code>srcTsDataType</code> is <code>boolean</code>, <code>dstTsDataType</code> can only be <code>boolean</code> or <code>text</code>. When <code>srcTsDataType</code> is <code>NaN</code>, <code>dstTsDataType</code> can only be <code>float</code>, <code>double</code>, or <code>text</code>. When <code>srcTsDataType</code> is a numerical type, the precision of <code>dstTsDataType</code> needs to be higher than <code>srcTsDataType</code>. For example: <code>-typeInfer boolean=text,float=double</code></td><td>No</td><td></td></tr></tbody></table><h3 id="_2-3-running-example" tabindex="-1"><a class="header-anchor" href="#_2-3-running-example"><span>2.3 Running Example</span></a></h3><ul><li>Import the <code>dump0_0.sql</code> data in the current <code>data</code> directory to the local IoTDB database.</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># Unix/OS X</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/import-data.sh -s ./data/dump0_0.sql</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Windows</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/import-data.bat -s ./data/dump0_0.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Import all data in the current <code>data</code> directory in an aligned manner to the local IoTDB database.</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># Unix/OS X</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/import-data.sh -s ./data/ -fd ./failed/ -aligned true</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Windows</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/import-data.bat -s ./data/ -fd ./failed/ -aligned true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Import the <code>dump0_0.csv</code> data in the current <code>data</code> directory to the local IoTDB database.</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># Unix/OS X</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/import-data.sh -s ./data/dump0_0.csv -fd ./failed/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Windows</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/import-data.bat -s ./data/dump0_0.csv -fd ./failed/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Import the <code>dump0_0.csv</code> data in the current <code>data</code> directory in an aligned manner, batch import 100000 lines to the IoTDB database on the host with IP <code>192.168.100.1</code>, record failures in the current <code>failed</code> directory, with a maximum of 1000 lines per file.</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># Unix/OS X</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/import-data.sh -h 192.168.100.1 -p 6667 -u root -pw root -s ./data/dump0_0.csv -fd ./failed/ -aligned true -batch 100000 -tp ms -typeInfer </span><span style="color:#E06C75;">boolean</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">text,</span><span style="color:#E06C75;">float</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">double</span><span style="color:#61AFEF;"> -lpf</span><span style="color:#D19A66;"> 1000</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Windows</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/import-data.bat -h 192.168.100.1 -p 6667 -u root -pw root -s ./data/dump0_0.csv -fd ./failed/ -aligned true -batch 100000 -tp ms -typeInfer </span><span style="color:#E06C75;">boolean</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">text,</span><span style="color:#E06C75;">float</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">double</span><span style="color:#61AFEF;"> -lpf</span><span style="color:#D19A66;"> 1000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-load-tsfile-script" tabindex="-1"><a class="header-anchor" href="#_3-load-tsfile-script"><span>3. load-tsfile Script</span></a></h2><ul><li>Supported formats: TsFile</li></ul><h3 id="_3-1-command" tabindex="-1"><a class="header-anchor" href="#_3-1-command"><span>3.1 Command</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># Unix/OS X</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools/load-tsfile.sh -h &lt;ip&gt; -p &lt;port&gt; -u &lt;username&gt; -pw &lt;password&gt; -s &lt;source&gt; -os &lt;on_success&gt; [-sd </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">success_dir</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">] -of &lt;on_fail&gt; [-fd </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">fail_dir</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">] [-tn </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">thread_num</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">] </span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Windows</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;tools</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">oad-tsfile.bat -h &lt;ip&gt; -p &lt;port&gt; -u &lt;username&gt; -pw &lt;password&gt;  -s &lt;source&gt; -os &lt;on_success&gt; [-sd </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">success_dir</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">] -of &lt;on_fail&gt; [-fd </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">fail_dir</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">] [-tn </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">thread_num</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-parameter-introduction" tabindex="-1"><a class="header-anchor" href="#_3-2-parameter-introduction"><span>3.2 Parameter Introduction</span></a></h3><table><thead><tr><th><strong>Parameter</strong></th><th><strong>Description</strong></th><th><strong>Required</strong></th><th><strong>Default</strong></th></tr></thead><tbody><tr><td>-h</td><td>Hostname</td><td>No</td><td>root</td></tr><tr><td>-p</td><td>Port</td><td>No</td><td>root</td></tr><tr><td>-u</td><td>Username</td><td>No</td><td>127.0.0.1</td></tr><tr><td>-pw</td><td>Password</td><td>No</td><td>6667</td></tr><tr><td>-s</td><td>The local directory path of the script file (folder) to be loaded</td><td>Yes</td><td></td></tr><tr><td>-os</td><td>none: Do not delete <br> mv: Move successful files to the target folder <br> cp: Hard link (copy) successful files to the target folder <br> delete: Delete</td><td>Yes</td><td></td></tr><tr><td>-sd</td><td>When --on_success is mv or cp, the target folder for mv or cp. The file name of the file becomes the folder flattened and then concatenated with the original file name.</td><td>When --on_success is mv or cp, it is required to fill in Yes</td><td>\${EXEC_DIR}/success</td></tr><tr><td>-of</td><td>none: Skip <br> mv: Move failed files to the target folder <br> cp: Hard link (copy) failed files to the target folder <br> delete: Delete</td><td>Yes</td><td></td></tr><tr><td>-fd</td><td>When --on_fail is specified as mv or cp, the target folder for mv or cp. The file name of the file becomes the folder flattened and then concatenated with the original file name.</td><td>When --on_fail is specified as mv or cp, it is required to fill in</td><td>\${EXEC_DIR}/fail</td></tr><tr><td>-tn</td><td>Maximum number of parallel threads</td><td>Yes</td><td>8</td></tr></tbody></table><h3 id="_3-3-running-examples" tabindex="-1"><a class="header-anchor" href="#_3-3-running-examples"><span>3.3 Running Examples</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># Unix/OS X</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt; tools/load-tsfile.sh -h 127.0.0.1 -p 6667 -u root -pw root -s /path/sql -os delete -of delete -tn 8</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt; tools/load-tsfile.sh -h 127.0.0.1 -p 6667 -u root -pw root -s /path/sql -os mv -of cp -sd /path/success/dir -fd /path/failure/dir -tn 8 </span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Windows</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt; tools/load_data.bat -h 127.0.0.1 -p 6667 -u root -pw root -s /path/sql -os mv -of cp -sd /path/success/dir -fd /path/failure/dir -tn 8 </span></span>
<span class="line"><span style="color:#ABB2BF;">&gt; tools/load_data.bat -h 127.0.0.1 -p 6667 -u root -pw root -s /path/sql -os delete -of delete -tn 8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-tsfile-active-listening-loading-feature" tabindex="-1"><a class="header-anchor" href="#_4-tsfile-active-listening-loading-feature"><span>4. TsFile Active Listening &amp; Loading Feature</span></a></h2><p>The TsFile Active Listening &amp; Loading Feature can actively monitor TsFile file changes in the specified target path (configured by the user) and automatically synchronize TsFile files from the target path to the specified reception path (configured by the user). Through this feature, IoTDB can automatically detect and load these files without the need for any additional manual loading operations. This automated process not only simplifies the user&#39;s operational steps but also reduces potential errors that may occur during the operation, effectively reducing the complexity for users during the usage process.</p><figure><img src="https://alioss.timecho.com/docs/img/Data-import2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_4-1-configuration-parameters" tabindex="-1"><a class="header-anchor" href="#_4-1-configuration-parameters"><span>4.1 Configuration Parameters</span></a></h3><p>You can enable the TsFile Active Listening &amp; Loading Feature by finding the following parameters in the configuration file template <code>iotdb-system.properties.template</code> and adding them to the IoTDB configuration file <code>iotdb-system.properties</code>. The complete configuration is as follows:</p><table><thead><tr><th><strong>Configuration Parameter</strong></th><th><strong>Description</strong></th><th><strong>Value Range</strong></th><th><strong>Required</strong></th><th><strong>Default Value</strong></th><th><strong>Loading Method</strong></th></tr></thead><tbody><tr><td>load_active_listening_enable</td><td>Whether to enable the DataNode&#39;s active listening and loading of tsfile functionality (default is enabled).</td><td>Boolean: trueÔºåfalse</td><td>Optional</td><td>true</td><td>Hot Loading</td></tr><tr><td>load_active_listening_dirs</td><td>The directories to be listened to (automatically includes subdirectories of the directory), if there are multiple, separate with ‚Äú,‚Äù. The default directory is ext/load/pending (supports hot loading).</td><td>String: one or more file directories</td><td>Optional</td><td>ext/load/pending</td><td>Hot Loading</td></tr><tr><td>load_active_listening_fail_dir</td><td>The directory to which files are transferred after the execution of loading tsfile files fails, only one directory can be configured.</td><td>String: one file directory</td><td>Optional</td><td>ext/load/failed</td><td>Hot Loading</td></tr><tr><td>load_active_listening_max_thread_num</td><td>The maximum number of threads to perform loading tsfile tasks simultaneously. The default value when the parameter is commented out is max(1, CPU core count / 2). When the user sets a value not in the range [1, CPU core count / 2], it will be set to the default value (1, CPU core count / 2).</td><td>Long: [1, Long.MAX_VALUE]</td><td>Optional</td><td>max(1, CPU core count / 2)</td><td>Effective after restart</td></tr><tr><td>load_active_listening_check_interval_seconds</td><td>Active listening polling interval in seconds. The function of actively listening to tsfile is achieved by polling the folder. This configuration specifies the time interval between two checks of load_active_listening_dirs, and the next check will be executed after load_active_listening_check_interval_seconds seconds of each check. When the user sets the polling interval to less than 1, it will be set to the default value of 5 seconds.</td><td>Long: [1, Long.MAX_VALUE]</td><td>Optional</td><td>5</td><td>Effective after restart</td></tr></tbody></table><h3 id="_4-2-precautions" tabindex="-1"><a class="header-anchor" href="#_4-2-precautions"><span>4.2 Precautions</span></a></h3><ol><li>If there is a mods file in the files to be loaded, the mods file should be moved to the listening directory first, and then the tsfile files should be moved, with the mods file and the corresponding tsfile file in the same directory. This prevents the loading of tsfile files without the corresponding mods files.</li></ol><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282c34;color:#abb2bf;"><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">FUNCTION</span><span style="color:#ABB2BF;"> moveFilesToListeningDirectory(sourceDirectory, listeningDirectory)</span></span>
<span class="line"><span style="color:#ABB2BF;">    // </span><span style="color:#C678DD;">Move</span><span style="color:#ABB2BF;"> mods files</span></span>
<span class="line"><span style="color:#ABB2BF;">    modsFiles </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> searchFiles(sourceDirectory, </span><span style="color:#98C379;">&quot;*mods*&quot;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">    IF</span><span style="color:#ABB2BF;"> modsFiles </span><span style="color:#C678DD;">IS</span><span style="color:#C678DD;"> NOT</span><span style="color:#C678DD;"> EMPTY</span></span>
<span class="line"><span style="color:#C678DD;">        FOR</span><span style="color:#ABB2BF;"> EACH </span><span style="color:#C678DD;">file</span><span style="color:#C678DD;"> IN</span><span style="color:#ABB2BF;"> modsFiles</span></span>
<span class="line"><span style="color:#C678DD;">            MOVE</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">file</span><span style="color:#ABB2BF;">, listeningDirectory)</span></span>
<span class="line"><span style="color:#C678DD;">        END</span><span style="color:#C678DD;"> FOR</span></span>
<span class="line"><span style="color:#C678DD;">    END</span><span style="color:#C678DD;"> IF</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    // </span><span style="color:#C678DD;">Move</span><span style="color:#ABB2BF;"> tsfile files</span></span>
<span class="line"><span style="color:#ABB2BF;">    tsfileFiles </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> searchFiles(sourceDirectory, </span><span style="color:#98C379;">&quot;*tsfile*&quot;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">    IF</span><span style="color:#ABB2BF;"> tsfileFiles </span><span style="color:#C678DD;">IS</span><span style="color:#C678DD;"> NOT</span><span style="color:#C678DD;"> EMPTY</span></span>
<span class="line"><span style="color:#C678DD;">        FOR</span><span style="color:#ABB2BF;"> EACH </span><span style="color:#C678DD;">file</span><span style="color:#C678DD;"> IN</span><span style="color:#ABB2BF;"> tsfileFiles</span></span>
<span class="line"><span style="color:#C678DD;">            MOVE</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">file</span><span style="color:#ABB2BF;">, listeningDirectory)</span></span>
<span class="line"><span style="color:#C678DD;">        END</span><span style="color:#C678DD;"> FOR</span></span>
<span class="line"><span style="color:#C678DD;">    END</span><span style="color:#C678DD;"> IF</span></span>
<span class="line"><span style="color:#C678DD;">END</span><span style="color:#C678DD;"> FUNCTION</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">FUNCTION</span><span style="color:#ABB2BF;"> searchFiles(directory, pattern)</span></span>
<span class="line"><span style="color:#ABB2BF;">    matchedFiles </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> []</span></span>
<span class="line"><span style="color:#C678DD;">    FOR</span><span style="color:#ABB2BF;"> EACH </span><span style="color:#C678DD;">file</span><span style="color:#C678DD;"> IN</span><span style="color:#D19A66;"> directory</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">files</span></span>
<span class="line"><span style="color:#C678DD;">        IF</span><span style="color:#D19A66;"> file</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">name</span><span style="color:#ABB2BF;"> MATCHES pattern</span></span>
<span class="line"><span style="color:#C678DD;">            APPEND</span><span style="color:#C678DD;"> file</span><span style="color:#C678DD;"> TO</span><span style="color:#ABB2BF;"> matchedFiles</span></span>
<span class="line"><span style="color:#C678DD;">        END</span><span style="color:#C678DD;"> IF</span></span>
<span class="line"><span style="color:#C678DD;">    END</span><span style="color:#C678DD;"> FOR</span></span>
<span class="line"><span style="color:#C678DD;">    RETURN</span><span style="color:#ABB2BF;"> matchedFiles</span></span>
<span class="line"><span style="color:#C678DD;">END</span><span style="color:#C678DD;"> FUNCTION</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">FUNCTION</span><span style="color:#C678DD;"> MOVE</span><span style="color:#ABB2BF;">(sourceFile, targetDirectory)</span></span>
<span class="line"><span style="color:#ABB2BF;">    // Implement the logic of moving files </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> sourceFile </span><span style="color:#C678DD;">to</span><span style="color:#ABB2BF;"> targetDirectory</span></span>
<span class="line"><span style="color:#C678DD;">END</span><span style="color:#C678DD;"> FUNCTION</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p>Prohibit setting the receiver directory of Pipe, the data directory for storing data, etc., as the listening directory.</p></li><li><p>Prohibit <code>load_active_listening_fail_dir</code> from having the same directory as <code>load_active_listening_dirs</code>, or each other&#39;s nesting.</p></li><li><p>Ensure that the <code>load_active_listening_dirs</code> directory has sufficient permissions. After the load is successful, the files will be deleted. If there is no delete permission, it will lead to repeated loading.</p></li></ol>`,37)]))}const d=s(l,[["render",o],["__file","Data-Import-Tool.html.vue"]]),p=JSON.parse(`{"path":"/UserGuide/V2.0.1/Tree/Tools-System/Data-Import-Tool.html","title":"Data Import","lang":"en-US","frontmatter":{"description":"Data Import 1. IoTDB Data Import IoTDB currently supports importing data in CSV, SQL, and TsFile (IoTDB's underlying open-time series file format) into the database. The specifi...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://iotdb.apache.org/zh/UserGuide/V2.0.1/Tree/Tools-System/Data-Import-Tool.html"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/UserGuide/V2.0.1/Tree/Tools-System/Data-Import-Tool.html"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"Data Import"}],["meta",{"property":"og:description","content":"Data Import 1. IoTDB Data Import IoTDB currently supports importing data in CSV, SQL, and TsFile (IoTDB's underlying open-time series file format) into the database. The specifi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://alioss.timecho.com/docs/img/Data-import2.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-12-16T14:58:01.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-16T14:58:01.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Data Import\\",\\"image\\":[\\"https://alioss.timecho.com/docs/img/Data-import2.png\\"],\\"dateModified\\":\\"2024-12-16T14:58:01.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"1. IoTDB Data Import","slug":"_1-iotdb-data-import","link":"#_1-iotdb-data-import","children":[]},{"level":2,"title":"2. import-data Scripts","slug":"_2-import-data-scripts","link":"#_2-import-data-scripts","children":[{"level":3,"title":"2.1 Command","slug":"_2-1-command","link":"#_2-1-command","children":[]},{"level":3,"title":"2.2 Parameter Introduction","slug":"_2-2-parameter-introduction","link":"#_2-2-parameter-introduction","children":[]},{"level":3,"title":"2.3 Running Example","slug":"_2-3-running-example","link":"#_2-3-running-example","children":[]}]},{"level":2,"title":"3. load-tsfile Script","slug":"_3-load-tsfile-script","link":"#_3-load-tsfile-script","children":[{"level":3,"title":"3.1 Command","slug":"_3-1-command","link":"#_3-1-command","children":[]},{"level":3,"title":"3.2 Parameter Introduction","slug":"_3-2-parameter-introduction","link":"#_3-2-parameter-introduction","children":[]},{"level":3,"title":"3.3  Running Examples","slug":"_3-3-running-examples","link":"#_3-3-running-examples","children":[]}]},{"level":2,"title":"4. TsFile Active Listening & Loading Feature","slug":"_4-tsfile-active-listening-loading-feature","link":"#_4-tsfile-active-listening-loading-feature","children":[{"level":3,"title":"4.1 Configuration Parameters","slug":"_4-1-configuration-parameters","link":"#_4-1-configuration-parameters","children":[]},{"level":3,"title":"4.2 Precautions","slug":"_4-2-precautions","link":"#_4-2-precautions","children":[]}]}],"git":{"createdTime":1732001667000,"updatedTime":1734361081000,"contributors":[{"name":"Mister-Hope","username":"Mister-Hope","email":"mister-hope@outlook.com","commits":1,"url":"https://github.com/Mister-Hope"},{"name":"majialin","username":"majialin","email":"107627937+mal117@users.noreply.github.com","commits":1,"url":"https://github.com/majialin"},{"name":"W1y1r","username":"W1y1r","email":"150988475+W1y1r@users.noreply.github.com","commits":2,"url":"https://github.com/W1y1r"}]},"readingTime":{"minutes":5.68,"words":1704},"filePathRelative":"UserGuide/V2.0.1/Tree/Tools-System/Data-Import-Tool.md","localizedDate":"November 19, 2024","autoDesc":true}`);export{d as comp,p as data};
